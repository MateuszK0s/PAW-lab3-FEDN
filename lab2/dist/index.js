(()=>{"use strict";var e={818:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){this._recorder=e,this._keyboard=t}return e.prototype.play=function(){var e=this,t=this._recorder.getChannel(),n=this._recorder.beggining;null==t||t.forEach((function(t){0==n&&(n=t.time);var r=t.time-n;setTimeout((function(){e._keyboard.setKey(t.key),e._keyboard.play()}),r)}))},e}();t.default=n},47:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this.audio={},this.key=null}return e.prototype.load=function(){var e={};["tink","kick","clap","boom","ride","hihat","openhat","tom","snare"].forEach((function(t){var n=document.querySelector('[data-sound="'+t+'"]');null!=n&&(e[t]=n)})),this.audio=e},e.prototype.play=function(){if(null!=this.key&&this.key in this.audio){var e=this.audio[this.key];e.currentTime=0,e.play()}},e.prototype.setKey=function(e){this.key=e},e}();t.default=n},596:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.getMapper=function(){return{1:"tink",2:"kick",3:"clap",4:"boom",5:"ride",6:"hihat",7:"openhat",8:"tom",9:"snare"}},e}();t.default=n},290:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(20)),a=function(){function e(){this._recordingState=o.default.DISABLED,this._beggining=0,this._channel=[]}return e.prototype.push=function(e,t){this.recordingState==o.default.ENABLED&&this._channel.push({key:e,time:t})},e.prototype.getChannel=function(){return this._channel},e.prototype.clearChannel=function(){this._channel=[]},Object.defineProperty(e.prototype,"beggining",{get:function(){return this._beggining},set:function(e){this._beggining=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"recordingState",{get:function(){return this._recordingState},set:function(e){this._recordingState=e},enumerable:!1,configurable:!0}),e}();t.default=a},54:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.VisualElements=void 0,t.VisualElements=function(e){for(var t=document.getElementById("layerContainer"),n=0;n<e;n++){var r=document.createElement("div"),o=document.createElement("button");o.innerHTML="Record",o.classList.add("record-btn"),o.dataset.key=String(n);var a=document.createElement("button");a.innerHTML="Stop recording",a.disabled=!0,a.classList.add("stop-recording-btn"),a.dataset.key=String(n);var i=document.createElement("button");i.innerHTML="Play",a.disabled=!0,i.classList.add("play-btn"),i.dataset.key=String(n),r.appendChild(o),r.appendChild(a),r.appendChild(i),null==t||t.appendChild(r)}}},607:function(e,t,n){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(818)),a=r(n(20)),i=r(n(47)),u=r(n(596)),d=r(n(290)),l=n(54),c=[],s=[],f=new i.default;f.load(),l.VisualElements(4);for(var p=0;p<4;p++)c[p]=new d.default,s[p]=new o.default(c[p],f);function y(e){var t,n=e.target.dataset.sound,r=e.timeStamp;if(null!=n){f.setKey(n),f.play();for(var o=0;o<4;o++)null===(t=c[o])||void 0===t||t.push(n,r)}}var h=document.querySelectorAll(".record-btn"),b=document.querySelectorAll(".stop-recording-btn"),g=document.querySelectorAll(".play-btn");function v(e){var t=e.target;return Number(t.dataset.key)}null==h||h.forEach((function(e){e.addEventListener("click",(function(e){var t=v(e),n=c[t];n.recordingState==a.default.DISABLED&&(n.clearChannel(),n.recordingState=a.default.ENABLED,n.beggining=e.timeStamp,document.querySelector('button.record-btn[data-key="'+t+'"]').disabled=!0,document.querySelector('button.stop-recording-btn[data-key="'+t+'"]').disabled=!1)}))})),null==b||b.forEach((function(e){e.addEventListener("click",(function(e){var t=v(e),n=c[t];n.recordingState==a.default.ENABLED&&(n.recordingState=a.default.DISABLED,document.querySelector('button.record-btn[data-key="'+t+'"]').disabled=!1,document.querySelector('button.stop-recording-btn[data-key="'+t+'"]').disabled=!0)}))})),null==g||g.forEach((function(e){e.addEventListener("click",(function(e){var t=v(e),n=c[t],r=s[t];n.recordingState==a.default.DISABLED&&r.play()}))})),document.addEventListener("keypress",(function(e){var t,n=String(e.key).toLocaleLowerCase(),r=e.timeStamp,o=u.default.getMapper();if(n in o){f.setKey(o[n]),f.play();for(var a=0;a<4;a++)null===(t=c[a])||void 0===t||t.push(o[n],r)}}));var m=document.getElementById("keyboardPanel");if(null!=m){var _=m.querySelectorAll(".keyboardKey");null==_||_.forEach((function(e){e.addEventListener("click",y)}))}},20:(e,t)=>{var n;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.DISABLED=0]="DISABLED",e[e.ENABLED=1]="ENABLED"}(n||(n={})),t.default=n}},t={};!function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}(607)})();
!function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{c(i.next(t))}catch(t){o(t)}}function s(t){try{c(i.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((i=i.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0});const r=n(1),o=n(2),a=new r.default,s=document.getElementById("result"),c=document.getElementById("search"),u=document.getElementById("cityInput");let l=a.getItems();null==c||c.addEventListener("click",(function(){return i(this,void 0,void 0,(function*(){const t=null==u?void 0:u.value,e=yield a.getCityInfo(t);l=a.getItems();let n=String(null==e?void 0:e.id);if("id"in e&&!l.includes(n)){a.setOrSkip(String(n));const t=new o.VisualElements(e);null==s||s.append(t.build())}}))})),window.addEventListener("load",(function(){a.getItems().forEach(t=>i(this,void 0,void 0,(function*(){const e=yield a.getCityInfo("",Number(t));if("weather"in e){const t=new o.VisualElements(e);null==s||s.append(t.build())}})))}))},function(t,e,n){"use strict";var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function a(t){try{c(i.next(t))}catch(t){o(t)}}function s(t){try{c(i.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((i=i.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0});e.default=class{constructor(){this.apiKey="7858c2e898030f631401994d66f54c4a",this.storageKey="weatherItems"}getItems(){const t=this._getItemsAsString();return t?JSON.parse(t):[]}_getItemsAsString(){return localStorage.getItem(this.storageKey)}setOrSkip(t){let e=this._getItemsAsString(),n=e?JSON.parse(e):[];n.includes(t)||(n.push(t),localStorage.setItem(this.storageKey,JSON.stringify(n)))}getCityInfo(t="",e=null){return i(this,void 0,void 0,(function*(){return yield this._getWeather(t,e)}))}_getWeather(t="",e=null){return i(this,void 0,void 0,(function*(){const n=null!=e?`http://api.openweathermap.org/data/2.5/weather?id=${e}&APPID=${this.apiKey}&units=metric`:`http://api.openweathermap.org/data/2.5/weather?q=${t}&APPID=${this.apiKey}&units=metric`,i=yield fetch(n);return yield i.json()}))}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VisualElements=void 0;e.VisualElements=class{constructor(t){this.city=t}getIcon(t){return`http://openweathermap.org/img/wn/${t}@2x.png`}get CityName(){const t=document.createElement("span");return t.classList.add("cityName"),t.textContent=this.city.name,t}get WeatherMain(){const t=document.createElement("div");t.classList.add("weatherMain");const e=document.createElement("span");e.textContent=this.city.weather[0].main;const n=document.createElement("img");return n.src=this.getIcon(this.city.weather[0].icon),t.append(e),t.append(n),t}get WeatherInfo(){const t=document.createElement("div");t.classList.add("info");const e=document.createElement("span");e.textContent="Temp: "+this.city.main.temp;const n=document.createElement("span");n.textContent="Pressure: "+this.city.main.pressure;const i=document.createElement("span");return i.textContent="Humidity: "+this.city.main.humidity,t.append(e),t.append(n),t.append(i),t}build(){const t=document.createElement("div");return t.classList.add("weatherBox"),t.id=String(this.city.id),t.append(this.CityName),t.append(this.WeatherMain),t.append(this.WeatherInfo),t}}}]);